<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypta Signup</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
</head>  

<body>
<main class="signup-page"> 
<header class="header">
    <div class="logo">
        <img src="images/Crypta main logo.png"alt="Crypta logo"> 
    </div>
</header>

<nav class="navbar">
    <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#prices">Prices</a></li>
        <li><a href="#support">Support</a></li>
        <li><a href="#privacy">Privacy</a></li>
    </ul>
</nav>

<form action="#" class="signup-form">
    <fieldset class="form-step active">
        <legend>Personal Information</legend>
        <div class="form-row">
            <div>
                <label for="firstname">First Name:</label>
                <input type="text" id="firstname" placeholder="Your First Name" required maxlength="30" pattern="\w{2,30}">
            </div> 
            <div>
                <label for="lastname">Last Name:</label>
                <input type="text" id="lastname" placeholder="Your Last Name" required maxlength="30" pattern="\w{2,30}">
            </div>
        </div>
        <div class="form-row">
            <div>
                <label for="date_of_birth">Date of Birth:</label>
                <input type="date" id="date_of_birth" required>
            </div>
            <div>
                <label for="phone">Phone Number:</label>
                <input type="tel" id="phone" name="phone" required pattern="[789][0-9]{9}">
            </div>
        </div>
    </fieldset>

    <fieldset class="form-step">
        <div class="form-row">
            <div>
                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" required>
            </div>
        </div>
        <div class="form-row">
            <div>
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" maxlength="30"  required>
            </div>
            <div>
                <label for="confirmpassword">Confirm Password:</label>
                <input type="password" id="confirmpassword" required>
            </div>
        </div>
        <div class="form-row">
            <div>
                <label for="address">Address:</label>
                <input type="text" id="address" name="address" placeholder="Street Address" required pattern="\w{3,30}">
            </div>
            <div>
                <label for="postal-code">Postal Code:</label>
                <input type="text" id="postal-code" name="postal-code" placeholder="Postal Code" required pattern="[A-Za-z]\d[A-Za-z] ?\d[A-Za-z]\d">
            </div>
        </div>
        <div class="form-group">
            <div>
                <label for="province">Province/Territory:</label>
                <select id="province" required> 
                    <option value="">Please choose one</option>
                    <option value="AB">Alberta</option>
                    <option value="BC">British Columbia</option>
                    <option value="MB">Manitoba</option>
                    <option value="NB">New Brunswick</option>
                    <option value="NL">Newfoundland and Labrador</option>
                    <option value="NS">Nova Scotia</option>
                    <option value="ON">Ontario</option>
                    <option value="PE">Prince Edward Island</option>
                    <option value="QC">Quebec</option>
                    <option value="SK">Saskatchewan</option>
                    <option value="YT">Yukon</option>
                    <option value="NU">Nunavut</option>
                    <option value="NT">Northwest Territories</option>
                </select>
            </div>
        </div>
        <a href="financial.html" class="next" id="nextLink">Next</a>
    </fieldset>
    <div id="validationMessage" class="validation-message"></div> 
</form>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const nextLink = document.getElementById('nextLink');
        const validationMessageDiv = document.getElementById('validationMessage'); 

        nextLink.addEventListener('click', function(event) {
            validationMessageDiv.innerText = '';
            validationMessageDiv.style.display = 'none'; 

            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmpassword').value;

            const requiredFields = [
                document.getElementById('firstname'),
                document.getElementById('lastname'),
                document.getElementById('date_of_birth'),
                document.getElementById('phone'),
                document.getElementById('address'),
                document.getElementById('postal-code'),
                document.getElementById('province')
            ];

            for (const field of requiredFields) {
                if (!field.value) {
                    validationMessageDiv.innerText = 'Please fill out all required fields.';
                    validationMessageDiv.style.display = 'block'; 
                    event.preventDefault(); 
                    return;
                }
            }

            if (password !== confirmPassword) {
                validationMessageDiv.innerText = 'Passwords do not match.';
                validationMessageDiv.style.display = 'block'; 
                event.preventDefault(); 
                return;
            }
        });
    });
</script>
</body>
</html>
